// Copyright (c) 2021 Morwenn
// SPDX-License-Identifier: MIT

digraph G {

  // Nodes
  node [fontname="consolas"];
  sorter[label="Sorter"]
  stable_t[label="stable_t<Sorter>"]
  stable_adapter[label="stable_adapter<Sorter>"]
  make_stable[label="make_stable<Sorter>"]
  "stable_adapter<Sorter>::type"
  "Use specialization"
  node [shape="diamond"]
  is_always_stable[label="is_always_stable_v<Sorter>"]
  is_stable[label="is_stable<Sorter(...)>"]
  "stable_adapter<Sorter>::type exists?"
  specialized[label="Specialized?"]

  // Flow
  stable_t -> is_always_stable[style=dashed]
  is_always_stable -> sorter[label="true",fontname="consolas",fontsize="10",style=dashed]
  is_always_stable -> "stable_adapter<Sorter>::type exists?"[label="false",fontname="consolas",fontsize="10",style=dashed]
  "stable_adapter<Sorter>::type exists?" -> "stable_adapter<Sorter>::type"[label="true",fontname="consolas",fontsize="10"style=dashed]
  "stable_adapter<Sorter>::type exists?" -> stable_adapter[label="false",fontname="consolas",fontsize="10"style=dashed]
  stable_adapter -> specialized
  specialized -> "Use specialization"[label="true",fontname="consolas",fontsize="10"]
  specialized -> is_stable[label="false",fontname="consolas",fontsize="10"]
  is_stable -> sorter[label="true",fontname="consolas",fontsize="10"]
  is_stable -> make_stable[label="false",fontname="consolas",fontsize="10"]
}
